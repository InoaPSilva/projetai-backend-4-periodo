"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _commit = _interopRequireDefault(require("../constants/commit"));

var _flags = _interopRequireDefault(require("../constants/flags"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const getOptionsForCommand = (command, flags) => {
  const commandsWithOptions = [_flags.default.COMMIT, _flags.default.HOOK];

  if (commandsWithOptions.includes(command)) {
    return {
      message: flags['message'],
      mode: command === _flags.default.HOOK ? _commit.default.HOOK : _commit.default.CLIENT,
      scope: flags['scope'],
      title: flags['title']
    };
  }

  return null;
};

const findGitmojiCommand = (cli, options) => {
  const flags = cli.flags;
  const commandFlag = Object.keys(flags).map(flag => flags[flag] && flag).find(flag => options[flag]);
  const commandOptions = getOptionsForCommand(commandFlag, flags);
  return options[commandFlag] ? options[commandFlag](commandOptions) : cli.showHelp();
};

var _default = findGitmojiCommand;
exports.default = _default;